// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`#createContainerClusterEntity should convert to entity 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have abacEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have abacEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {
          "enabled": true,
        },
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": true,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have basicAuthenticationEnabled set to false if either username or password is missing 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "password": "test",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have basicAuthenticationEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have basicAuthenticationEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "password": "test",
          "username": "test",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": true,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have binaryAuthorizationEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have binaryAuthorizationEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {
          "enabled": true,
        },
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": true,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have clientCertificatesEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have clientCertificatesEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clientKey": "test",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": true,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have databaseEncryptionState set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "keyName": "projects/j1-gc-integration-dev-v2/locations/northamerica-northeast1/keyRings/gke-keyring/cryptoKeys/gke-key",
          "state": "ENCRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": "projects/j1-gc-integration-dev-v2/locations/northamerica-northeast1/keyRings/gke-keyring/cryptoKeys/gke-key",
  "databaseEncryptionState": "ENCRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have intraNodeVisibilityEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "enableIntraNodeVisibility": false,
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": undefined,
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": undefined,
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have intraNodeVisibilityEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "enableIntraNodeVisibility": true,
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": true,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": undefined,
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": undefined,
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have masterAuthorizedNetworksEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {
          "enabled": false,
        },
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have masterAuthorizedNetworksEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {
          "enabled": true,
        },
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": true,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have networkPolicyEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "networkPolicy": {
          "enabled": false,
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have networkPolicyEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "networkPolicy": {
          "enabled": true,
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": true,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have privateEndpointEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "privateClusterConfig": {
          "enablePrivateEndpoint": false,
        },
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have privateEndpointEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "privateClusterConfig": {
          "enablePrivateEndpoint": true,
        },
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": true,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have privateNodesEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "privateClusterConfig": {
          "enablePrivateNodes": false,
        },
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have privateNodesEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "privateClusterConfig": {
          "enablePrivateNodes": true,
        },
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": true,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have rbacEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have rbacEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "authenticatorGroupsConfig": {
          "enabled": true,
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": true,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have shieldedNodesEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have shieldedNodesEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {
          "enabled": true,
        },
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": true,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have useIpAliases set to false if it is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useIpAliases": false,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": false,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have useIpAliases set to true if it is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useIpAliases": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": true,
  "useRoutes": false,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerClusterEntity should have workloadIdentity set to namespace if the Workload Identity is enabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "workloadIdentityConfig": {
          "workloadPool": "j1-gc-integration-dev-v2.svc.id.goog",
        },
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": "j1-gc-integration-dev-v2.svc.id.goog",
}
`;

exports[`#createContainerClusterEntity should have workloadIdentity set to undefined if the Workload Identity is disabled 1`] = `
{
  "_class": [
    "Cluster",
  ],
  "_key": "google_container_cluster:abc123",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "addonsConfig": {
          "kubernetesDashboard": {
            "disabled": true,
          },
          "networkPolicyConfig": {
            "disabled": true,
          },
        },
        "autoscaling": {},
        "binaryAuthorization": {},
        "clusterIpv4Cidr": "10.16.0.0/14",
        "createTime": "2021-02-07T17:17:28+00:00",
        "currentMasterVersion": "1.17.14-gke.1600",
        "currentNodeCount": 3,
        "currentNodeVersion": "1.17.14-gke.1600",
        "databaseEncryption": {
          "state": "DECRYPTED",
        },
        "endpoint": "34.69.222.23",
        "id": "abc123",
        "initialClusterVersion": "1.17.14-gke.1600",
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "ipAllocationPolicy": {
          "useRoutes": true,
        },
        "labelFingerprint": "a9dc16a7",
        "legacyAbac": {},
        "location": "us-central1",
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "loggingService": "logging.googleapis.com/kubernetes",
        "maintenancePolicy": {
          "resourceVersion": "e3b0c442",
        },
        "masterAuth": {
          "clusterCaCertificate": "abc123",
        },
        "masterAuthorizedNetworksConfig": {},
        "monitoringService": "monitoring.googleapis.com/kubernetes",
        "name": "j1-gc-integration-dev-v2-gke-cluster",
        "network": "default",
        "networkConfig": {
          "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
          "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
        },
        "nodeConfig": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "serviceAccount": "j1-gc-integration-dev-v2-gke-sa@j1-gc-integration-dev-v2.iam.gserviceaccount.com",
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "nodeIpv4CidrSize": 24,
        "releaseChannel": {
          "channel": "REGULAR",
        },
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev-v2/locations/us-central1/clusters/j1-gc-integration-dev-v2-gke-cluster",
        "servicesIpv4Cidr": "10.19.240.0/20",
        "shieldedNodes": {},
        "status": "RUNNING",
        "subnetwork": "default",
        "zone": "us-central1",
      },
    },
  ],
  "_type": "google_container_cluster",
  "abacEnabled": false,
  "active": undefined,
  "basicAuthenticationEnabled": false,
  "binaryAuthorizationEnabled": false,
  "clientCertificatesEnabled": false,
  "clusterIpv4Cidr": "10.16.0.0/14",
  "createdOn": 1612718248000,
  "currentMasterVersion": "1.17.14-gke.1600",
  "currentNodeCount": 3,
  "databaseEncryptionKey": undefined,
  "databaseEncryptionState": "DECRYPTED",
  "description": undefined,
  "displayName": "j1-gc-integration-dev-v2-gke-cluster",
  "endpoint": "34.69.222.23",
  "id": "abc123",
  "initialClusterVersion": "1.17.14-gke.1600",
  "initialNodeCode": 1,
  "instanceGroupUrls": [
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
    "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev-v2/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
  ],
  "intraNodeVisibilityEnabled": false,
  "isAlphaCluster": false,
  "kubernetesDashboardEnabled": false,
  "location": "us-central1",
  "locations": [
    "us-central1-f",
    "us-central1-c",
    "us-central1-a",
  ],
  "loggingService": "logging.googleapis.com/kubernetes",
  "masterAuthorizedNetworksEnabled": false,
  "metadata.description": undefined,
  "monitoringService": "monitoring.googleapis.com/kubernetes",
  "name": "j1-gc-integration-dev-v2-gke-cluster",
  "network": "projects/j1-gc-integration-dev-v2/global/networks/default",
  "networkPolicyConfigEnabled": false,
  "networkPolicyEnabled": false,
  "nodeDiskSizeGb": 100,
  "nodeDiskType": "pd-standard",
  "nodeEnableIntegrityMonitoring": true,
  "nodeEnableSecureBoot": undefined,
  "nodeImageType": "COS",
  "nodeIpv4CidrSize": 24,
  "nodeMachineType": "e2-micro",
  "nodeOAuthScopes": [
    "https://www.googleapis.com/auth/cloud-platform",
  ],
  "nodePreemptible": true,
  "privateEndpointEnabled": false,
  "privateNodesEnabled": false,
  "rbacEnabled": false,
  "releaseChannel": "REGULAR",
  "servicesIpv4Cidr": "10.19.240.0/20",
  "shieldedNodesEnabled": false,
  "status": "RUNNING",
  "subnetwork": "projects/j1-gc-integration-dev-v2/regions/us-central1/subnetworks/default",
  "useIpAliases": false,
  "useRoutes": true,
  "webLink": "https://console.cloud.google.com/kubernetes/clusters/details/us-central1/j1-gc-integration-dev-v2-gke-cluster/details?folder=&organizationId=&project=j1-gc-integration-dev-v2",
  "workloadIdentity": undefined,
}
`;

exports[`#createContainerNodePoolEntity should convert to entity 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have autoRepairEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": false,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": false,
  "autoUpgradeEnabled": false,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have autoRepairEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": false,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have autoUpgradeEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoUpgrade": false,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": false,
  "autoUpgradeEnabled": false,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have autoUpgradeEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": false,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have bootDiskKmsKey set to a value if boot disk encryption type is set to customer managed 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "bootDiskKmsKey": "example-key",
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": "example-key",
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have bootDiskKmsKey set to undefined if boot disk encryption type is not set to customer managed 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have gkeMetadataServerEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have gkeMetadataServerEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "workloadMetadataConfig": {
            "mode": "GKE_METADATA",
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": true,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have gkeSandboxEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have gkeSandboxEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "sandboxConfig": {
            "type": "gvisor",
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": true,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have integrityMonitoringEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": false,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have integrityMonitoringEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have legacyEndpointsDisabled set to false if they are enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "metadata": {
            "disable-legacy-endpoints": "false",
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.gce.disable-legacy-endpoints": "false",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have legacyEndpointsDisabled set to true if they are disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have secureBootEnabled set to false if it is disabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "shieldedInstanceConfig": {
            "enableSecureBoot": false,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have secureBootEnabled set to true if it is enabled 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "shieldedInstanceConfig": {
            "enableSecureBoot": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": true,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have serviceAccount set to some value if it is not using the default one 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "serviceAccount": "example-service-account@project-id.gserviceaccount.com",
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": undefined,
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": false,
  "legacyEndpointsDisabled": false,
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": "example-service-account@project-id.gserviceaccount.com",
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;

exports[`#createContainerNodePoolEntity should have serviceAccount set to undefined if it is using the default service account 1`] = `
{
  "_class": [
    "Group",
  ],
  "_key": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
  "_rawData": [
    {
      "name": "default",
      "rawData": {
        "config": {
          "diskSizeGb": 100,
          "diskType": "pd-standard",
          "imageType": "COS",
          "machineType": "e2-micro",
          "metadata": {
            "disable-legacy-endpoints": "true",
          },
          "oauthScopes": [
            "https://www.googleapis.com/auth/cloud-platform",
          ],
          "preemptible": true,
          "shieldedInstanceConfig": {
            "enableIntegrityMonitoring": true,
          },
        },
        "initialNodeCount": 1,
        "instanceGroupUrls": [
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-f/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-d0942024-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-c/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-2a95071a-grp",
          "https://www.googleapis.com/compute/v1/projects/j1-gc-integration-dev/zones/us-central1-a/instanceGroupManagers/gke-j1-gc-integratio-j1-gc-integratio-6817e506-grp",
        ],
        "locations": [
          "us-central1-f",
          "us-central1-c",
          "us-central1-a",
        ],
        "management": {
          "autoRepair": true,
          "autoUpgrade": true,
        },
        "name": "j1-gc-integration-dev-gke-node-pool",
        "podIpv4CidrSize": 24,
        "selfLink": "https://container.googleapis.com/v1/projects/j1-gc-integration-dev/locations/us-central1/clusters/j1-gc-integration-dev-gke-cluster/nodePools/j1-gc-integration-dev-gke-node-pool",
        "status": "RUNNING",
        "upgradeSettings": {
          "maxSurge": 1,
        },
        "version": "1.17.14-gke.1600",
      },
    },
  ],
  "_type": "google_container_node_pool",
  "active": undefined,
  "autoRepairEnabled": true,
  "autoUpgradeEnabled": true,
  "bootDiskKmsKey": undefined,
  "createdOn": undefined,
  "displayName": "j1-gc-integration-dev-gke-node-pool",
  "gkeMetadataServerEnabled": false,
  "gkeSandboxEnabled": false,
  "imageType": "COS",
  "initialNodeCount": 1,
  "integrityMonitoringEnabled": true,
  "legacyEndpointsDisabled": true,
  "metadata.gce.disable-legacy-endpoints": "true",
  "metadata.networkTags": undefined,
  "name": "j1-gc-integration-dev-gke-node-pool",
  "podIpv4CidrSize": 24,
  "secureBootEnabled": false,
  "serviceAccount": undefined,
  "status": "RUNNING",
  "statusMessage": undefined,
  "version": "1.17.14-gke.1600",
  "webLink": "https://console.cloud.google.com/kubernetes/nodepool/northamerica-northeast1-a/my-first-cluster-1/j1-gc-integration-dev-gke-node-pool?folder=&organizationId=&project=j1-gc-integration-dev-v2",
}
`;
